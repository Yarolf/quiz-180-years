## О репозитории

**Асинхронный телеграмм бот** для проведения викторин. В боте реализованы: 
- регистрация
- обновление данных профиля 
- памятка по работе с ботом
- непосредственно викторина.

Вопросы в викторине соответствуют шаблону:
```
картинка
вопрос
кнопки с ответами
```
![Screenshot_1](https://user-images.githubusercontent.com/58412734/149141838-6847cfc3-0ef3-48aa-a6ee-7d84830f122d.jpg)



## Подготовка

Проект разработан для деплоя на [Heroku](https://dashboard.heroku.com/):
- форкаем репозиторий к себе
- создаём новый проект на Heroku
- переходим в настройки приложения, затем в Config Vars
- добавляем переменные среды: 
  - "BOT_TOKEN" (токен, полученный в BotFather)
  - "HEROKU_APP_NAME" (Имя созданного приложения)
  - "HEROKU" ("1" - запускаем с использованием вебхуков, `пусто` для запуска с использованием лонг полинга)
  - "DATABASE_URL" (строка для подключения к базе данных (предпочтительно postgreSql))
 
 ## Запуск
 
 При запуске приложения создаются необходимые таблицы, если ранее они не были созданы.
 
 Переходим в базу данных и заполняем таблицы:
 
 **"possible_answers"** - возможные варианты ответов для вопросов
 
 **"question_blocks"** - блоки вопросов, где 
 ```
 tour_number - номер тура, 
 file_name - имя картинки с расширением (картинки должны находиться в папке "attachments/files/")
 text - текст вопроса
 right_answer_id - id записи из possible_answers
 ```
 
 
 ## Команды для бота:
 ```
 /start - начало работы
 /help - памятка по работе с ботом
 /about - информация о боте
 /register - зарегистрироваться
 /update_info - обновить данные профиля
 /test - пройти викторину
 /get_winners [число] - получить победителей в квизе (выше тот, кто набрал больше баллов и затратил меньше времени на викторину)
 ```
 
 ## Дополнительная информация
 
 - Один пользователь может пройти викторину только один раз
 - Ответы пользователей хранятся в таблице user_answers
 - Информация о пользователях хранится в таблице users, где первичный ключ telegram_id пользователя
